(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{368:function(e,t,v){"use strict";v.r(t);var r=v(45),a=Object(r.a)({},(function(){var e=this,t=e.$createElement,v=e._self._c||t;return v("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[v("h1",{attrs:{id:"cli-reference"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#cli-reference"}},[e._v("#")]),e._v(" CLI reference")]),e._v(" "),v("p",[e._v("Did you know that our CLI is open source? You can contribute "),v("a",{attrs:{href:"https://github.com/diggerhq/cli",target:"_blank",rel:"noopener noreferrer"}},[e._v("bug reports and feature requests on github"),v("OutboundLink")],1)]),e._v(" "),v("div",{staticClass:"custom-block warning"},[v("p",{staticClass:"custom-block-title"},[e._v("WARNING")]),e._v(" "),v("p",[e._v("API is subject to change in future versions of the CLI.")])]),e._v(" "),v("div",{staticClass:"custom-block tip"},[v("p",{staticClass:"custom-block-title"},[e._v("TIP")]),e._v(" "),v("p",[e._v("Almost all commands are run in the context of digger.yml. This is used to identify the project name and services for this project. The state of services however is maintained in the backend. We can sync the services of a project with "),v("code",[e._v("dg sync")]),e._v(" command. The expected context for each command is highlighted under each heading.")])]),e._v(" "),v("h2",{attrs:{id:"dg-auth"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#dg-auth"}},[e._v("#")]),e._v(" dg auth")]),e._v(" "),v("ul",[v("li",[e._v("Requires Auth: no")]),e._v(" "),v("li",[e._v("Context: N/A")])]),e._v(" "),v("p",[e._v("Authenticate and retrieve Digger token. This command open browser for authentication.")]),e._v(" "),v("h2",{attrs:{id:"dg-project-init"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#dg-project-init"}},[e._v("#")]),e._v(" dg project init")]),e._v(" "),v("ul",[v("li",[e._v("Requires Auth: yes")]),e._v(" "),v("li",[e._v("Context: Project root (initialises digger.yml)")])]),e._v(" "),v("p",[e._v("Initialize a project by name (creates entry in backend). Also creates initial digger.yml file.")]),e._v(" "),v("table",[v("thead",[v("tr",[v("th",[e._v("Option")]),e._v(" "),v("th",[e._v("Description")]),e._v(" "),v("th",[e._v("Required")])])]),e._v(" "),v("tbody",[v("tr",[v("td",[v("code",[e._v("--name")])]),e._v(" "),v("td",[e._v("The project name. if not entered you will be asked to enter it as input.")]),e._v(" "),v("td",[e._v("No")])])])]),e._v(" "),v("h2",{attrs:{id:"dg-sync"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#dg-sync"}},[e._v("#")]),e._v(" dg sync")]),e._v(" "),v("ul",[v("li",[e._v("Requires Auth: yes")]),e._v(" "),v("li",[e._v("Context: digger.yml")])]),e._v(" "),v("p",[e._v("Sync services from digger.yml to backend.")]),e._v(" "),v("h2",{attrs:{id:"dg-service-add"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#dg-service-add"}},[e._v("#")]),e._v(" dg service add")]),e._v(" "),v("ul",[v("li",[e._v("Requires Auth: yes")]),e._v(" "),v("li",[e._v("Context: digger.yml")])]),e._v(" "),v("p",[e._v("Helper to add a service to digger.yml. Will ask you for the path to the service and then guess the details of this service in digger.yml.")]),e._v(" "),v("h2",{attrs:{id:"dg-env-build-env-name"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#dg-env-build-env-name"}},[e._v("#")]),e._v(" dg env build env_name")]),e._v(" "),v("ul",[v("li",[e._v("Requires Auth: yes")]),e._v(" "),v("li",[e._v("Context: digger.yml")])]),e._v(" "),v("table",[v("thead",[v("tr",[v("th",[e._v("Option")]),e._v(" "),v("th",[e._v("Description")]),e._v(" "),v("th",[e._v("Required")])])]),e._v(" "),v("tbody",[v("tr",[v("td",[v("code",[e._v("--service")])]),e._v(" "),v("td",[e._v("The name of the service. "),v("br"),v("br"),e._v("This needs to be present in the digger.yml "),v("code",[e._v("services")]),e._v(" section")]),e._v(" "),v("td",[e._v("No")])]),e._v(" "),v("tr",[v("td",[v("code",[e._v("--tag")])]),e._v(" "),v("td",[e._v("The tag of the image to be built - default to 'latest'")]),e._v(" "),v("td",[e._v("No")])]),e._v(" "),v("tr",[v("td",[v("code",[e._v("--context")])]),e._v(" "),v("td",[e._v("For docker container builds. The context of the docker build."),v("br"),v("br"),e._v(" Defaults to the location of the Dockerfile")]),e._v(" "),v("td",[e._v("No")])])])]),e._v(" "),v("h2",{attrs:{id:"dg-env-push-env-name"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#dg-env-push-env-name"}},[e._v("#")]),e._v(" dg env push env_name")]),e._v(" "),v("ul",[v("li",[e._v("Requires Auth: yes")]),e._v(" "),v("li",[e._v("Context: digger.yml")])]),e._v(" "),v("table",[v("thead",[v("tr",[v("th",[e._v("Option")]),e._v(" "),v("th",[e._v("Description")]),e._v(" "),v("th",[e._v("Required")])])]),e._v(" "),v("tbody",[v("tr",[v("td",[v("code",[e._v("--service")])]),e._v(" "),v("td",[e._v("The name of the service. "),v("br"),v("br"),e._v("This needs to be present in the digger.yml "),v("code",[e._v("services")]),e._v(" section")]),e._v(" "),v("td",[e._v("No")])]),e._v(" "),v("tr",[v("td",[v("code",[e._v("--tag")])]),e._v(" "),v("td",[e._v("The tag of the image to be built - default to 'latest'")]),e._v(" "),v("td",[e._v("No")])]),e._v(" "),v("tr",[v("td",[v("code",[e._v("--aws-key")])]),e._v(" "),v("td",[e._v("The AWS key of the account that contains the ECR respository")]),e._v(" "),v("td",[e._v("No")])]),e._v(" "),v("tr",[v("td",[v("code",[e._v("--aws-secret")])]),e._v(" "),v("td",[e._v("The AWS secret of the account with ECR repository")]),e._v(" "),v("td",[e._v("No")])])])]),e._v(" "),v("h2",{attrs:{id:"dg-env-release-env-name"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#dg-env-release-env-name"}},[e._v("#")]),e._v(" dg env release env_name")]),e._v(" "),v("ul",[v("li",[e._v("Requires Auth: yes")]),e._v(" "),v("li",[e._v("Context: digger.yml")])]),e._v(" "),v("table",[v("thead",[v("tr",[v("th",[e._v("Option")]),e._v(" "),v("th",[e._v("Description")]),e._v(" "),v("th",[e._v("Required")])])]),e._v(" "),v("tbody",[v("tr",[v("td",[v("code",[e._v("--service")])]),e._v(" "),v("td",[e._v("The name of the service. "),v("br"),v("br"),e._v("This needs to be present in the digger.yml "),v("code",[e._v("services")]),e._v(" section")]),e._v(" "),v("td",[e._v("No")])]),e._v(" "),v("tr",[v("td",[v("code",[e._v("--tag")])]),e._v(" "),v("td",[e._v("The tag of the image to be built - default to 'latest'")]),e._v(" "),v("td",[e._v("No")])]),e._v(" "),v("tr",[v("td",[v("code",[e._v("--aws-key")])]),e._v(" "),v("td",[e._v("The AWS key of the account that contains the ECR respository")]),e._v(" "),v("td",[e._v("No")])]),e._v(" "),v("tr",[v("td",[v("code",[e._v("--aws-secret")])]),e._v(" "),v("td",[e._v("The AWS secret of the account with ECR repository")]),e._v(" "),v("td",[e._v("No")])])])]),e._v(" "),v("h2",{attrs:{id:"dg-env-create-env-name"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#dg-env-create-env-name"}},[e._v("#")]),e._v(" dg env create env_name")]),e._v(" "),v("ul",[v("li",[e._v("Requires Auth: yes")]),e._v(" "),v("li",[e._v("Context: digger.yml")])]),e._v(" "),v("table",[v("thead",[v("tr",[v("th",[e._v("Option")]),e._v(" "),v("th",[e._v("Description")]),e._v(" "),v("th",[e._v("Required")])])]),e._v(" "),v("tbody",[v("tr",[v("td",[v("code",[e._v("--target")])]),e._v(" "),v("td",[e._v("The repository which contains terraform template to apply. This argument should be of the form 'orgname/reponame@branch'")]),e._v(" "),v("td",[e._v("No")])]),e._v(" "),v("tr",[v("td",[v("code",[e._v("--region")])]),e._v(" "),v("td",[e._v("The AWS region to create the infrastructure in")]),e._v(" "),v("td",[e._v("No")])]),e._v(" "),v("tr",[v("td",[v("code",[e._v("--config")])]),e._v(" "),v("td",[e._v("a list of key=value pair to use for environment config options. You can specify multiple key=value pairs inline")]),e._v(" "),v("td",[e._v("No")])]),e._v(" "),v("tr",[v("td",[v("code",[e._v("--aws-key")])]),e._v(" "),v("td",[e._v("The AWS key of the account")]),e._v(" "),v("td",[e._v("No")])]),e._v(" "),v("tr",[v("td",[v("code",[e._v("--aws-secret")])]),e._v(" "),v("td",[e._v("The AWS secret of the account")]),e._v(" "),v("td",[e._v("No")])])])]),e._v(" "),v("h2",{attrs:{id:"dg-env-plan-env-name"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#dg-env-plan-env-name"}},[e._v("#")]),e._v(" dg env plan env_name")]),e._v(" "),v("ul",[v("li",[e._v("Requires Auth: yes")]),e._v(" "),v("li",[e._v("Context: digger.yml")])]),e._v(" "),v("p",[e._v("Outputs the list of planned resource that will be created for this environment. It is highly recommended to run this command before each apply.")]),e._v(" "),v("h2",{attrs:{id:"dg-env-apply-env-name"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#dg-env-apply-env-name"}},[e._v("#")]),e._v(" dg env apply env_name")]),e._v(" "),v("ul",[v("li",[e._v("Requires Auth: yes")]),e._v(" "),v("li",[e._v("Context: digger.yml")])]),e._v(" "),v("p",[e._v("Applies the changes of the environment. Note: It is recommend to run a "),v("code",[e._v("dg plan")]),e._v(" before "),v("code",[e._v("dg apply")]),e._v(".")]),e._v(" "),v("table",[v("thead",[v("tr",[v("th",[e._v("Option")]),e._v(" "),v("th",[e._v("Description")]),e._v(" "),v("th",[e._v("Required")])])]),e._v(" "),v("tbody",[v("tr",[v("td",[v("code",[e._v("--verboose")])]),e._v(" "),v("td",[e._v("Stream the terraform output while running the command")]),e._v(" "),v("td",[e._v("No")])])])]),e._v(" "),v("h2",{attrs:{id:"dg-env-update-env-name"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#dg-env-update-env-name"}},[e._v("#")]),e._v(" dg env update env_name")]),e._v(" "),v("ul",[v("li",[e._v("Requires Auth: yes")]),e._v(" "),v("li",[e._v("Context: digger.yml")])]),e._v(" "),v("p",[e._v("Update the settings of an environment. Currently supports updating of:")]),e._v(" "),v("ul",[v("li",[e._v("--target")]),e._v(" "),v("li",[e._v("--config")]),e._v(" "),v("li",[e._v("--aws-key")]),e._v(" "),v("li",[e._v("--aws-secret")])]),e._v(" "),v("p",[e._v("Usually will need to be followed by an "),v("code",[e._v("env apply")]),e._v(" command")]),e._v(" "),v("h2",{attrs:{id:"dg-env-destroy-env-name"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#dg-env-destroy-env-name"}},[e._v("#")]),e._v(" dg env destroy env_name")]),e._v(" "),v("ul",[v("li",[e._v("Requires Auth: yes")]),e._v(" "),v("li",[e._v("Context: digger.yml")])]),e._v(" "),v("p",[e._v("Destroy an environment (Warning: will destroy all infrastructure create)")]),e._v(" "),v("h2",{attrs:{id:"dg-env-describe-env-name"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#dg-env-describe-env-name"}},[e._v("#")]),e._v(" dg env describe env_name")]),e._v(" "),v("ul",[v("li",[e._v("Requires Auth: yes")]),e._v(" "),v("li",[e._v("Context: digger.yml")])]),e._v(" "),v("p",[e._v("Print all the details of an existing environment including all terraform outputs (Warning verbose output).")]),e._v(" "),v("h2",{attrs:{id:"dg-env-list"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#dg-env-list"}},[e._v("#")]),e._v(" dg env list")]),e._v(" "),v("ul",[v("li",[e._v("Requires Auth: yes")]),e._v(" "),v("li",[e._v("Context: digger.yml")])]),e._v(" "),v("p",[e._v("List all the existing environments, along with some details about them.")])])}),[],!1,null,null,null);t.default=a.exports}}]);