<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Secrets</title>
    <meta name="generator" content="VuePress 1.8.2">
    
    <meta name="description" content="">
    
    <link rel="preload" href="/assets/css/0.styles.54d80d9b.css" as="style"><link rel="preload" href="/assets/js/app.0ff171b0.js" as="script"><link rel="preload" href="/assets/js/2.11174f41.js" as="script"><link rel="preload" href="/assets/js/3.60901e5f.js" as="script"><link rel="prefetch" href="/assets/js/10.034aa4ca.js"><link rel="prefetch" href="/assets/js/11.9e6fce25.js"><link rel="prefetch" href="/assets/js/12.fa971a70.js"><link rel="prefetch" href="/assets/js/13.709796cc.js"><link rel="prefetch" href="/assets/js/14.189a883f.js"><link rel="prefetch" href="/assets/js/15.56230b7c.js"><link rel="prefetch" href="/assets/js/16.71b7ec3f.js"><link rel="prefetch" href="/assets/js/17.7261e904.js"><link rel="prefetch" href="/assets/js/18.f69d38af.js"><link rel="prefetch" href="/assets/js/19.8a907e30.js"><link rel="prefetch" href="/assets/js/20.fb40caac.js"><link rel="prefetch" href="/assets/js/4.77a1c4a2.js"><link rel="prefetch" href="/assets/js/5.06420f4a.js"><link rel="prefetch" href="/assets/js/6.58e44b89.js"><link rel="prefetch" href="/assets/js/7.077dd12d.js"><link rel="prefetch" href="/assets/js/8.61820209.js"><link rel="prefetch" href="/assets/js/9.3039f402.js">
    <link rel="stylesheet" href="/assets/css/0.styles.54d80d9b.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/digger-logo-text.png" alt="" class="logo"> <!----></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><!---->  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Overview</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/" aria-current="page" class="sidebar-link">Introduction</a></li><li><a href="/overview/concepts.html" class="sidebar-link">Concepts</a></li><li><a href="/overview/how-it-works.html" class="sidebar-link">How It Works</a></li><li><a href="/overview/digger-vs-other.html" class="sidebar-link">Digger vs Other</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Get Started</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/getting-started/secrets.html" aria-current="page" class="active sidebar-link">Secrets</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>CLI</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/cli/installation.html" class="sidebar-link">Install Digger CLI</a></li><li><a href="/cli/node-express.html" class="sidebar-link">Deploy Node app with CLI</a></li><li><a href="/cli/django.html" class="sidebar-link">Deploy Django app with CLI</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Customize</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/customize/terraform.html" class="sidebar-link">Write your own Terraform</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/customize/terraform.html#terraform-overrides" class="sidebar-link">Terraform overrides</a></li><li class="sidebar-sub-header"><a href="/customize/terraform.html#custom-targets" class="sidebar-link">Custom Targets</a></li></ul></li><li><a href="/customize/cicd.html" class="sidebar-link">CI/CD Integrations</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/customize/cicd.html#github-actions" class="sidebar-link">Github Actions</a></li><li class="sidebar-sub-header"><a href="/customize/cicd.html#gitlab-ci" class="sidebar-link">Gitlab CI</a></li></ul></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Reference</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/reference-cli.html" class="sidebar-link">CLI reference</a></li><li><a href="/reference-yaml.html" class="sidebar-link">digger.yml reference</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Miscellaneous</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/misc/tagging-and-rollbacks.html" class="sidebar-link">Image tagging rollbacks</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="secrets"><a href="#secrets" class="header-anchor">#</a> Secrets</h1> <p>Digger has a unique way of handling secrets by never storing them. We will integrate with yor cloud provider to store your secrets in your own account and then at every release we load the secret in your app. In this way Digger never sees your secrets and sensitive data.</p> <p>Let us look at the steps creating a secret in your AWS account using ParameterStore and integrating this in your service so that your application can read it.</p> <p>First of all go to the parameterstore section by searching for it:</p> <p><img src="/assets/img/parameterstore.639ccd48.png" alt="Parameter Store"></p> <p>Next step is to click on create parameter:</p> <p><img src="/assets/img/parameterstore_view.bfe05265.png" alt="Parameter Store"></p> <p>Fill in a name, Use a &quot;SecureSecret&quot; as a type and then fill in your sensitive value:</p> <p><img src="/assets/img/parameterstore_new.418064f0.png" alt="Parameter Store"></p> <p>Now click on &quot;Create parameter&quot; button. In the next step we need to tell digger to fetch this secret value. To do this we need to prepare the ARN for this value. An ARN value is AWS's unified way of labelling any resource that you create. Usually in most views the ARN value is visible in UI but unfortunately this is not the case for ParameterStore and hence we need to construct it ourselves. Here is the format of the ARN value for ParameterStore:</p> <div class="language- extra-class"><pre class="language-text"><code>arn:aws:ssm:REGION:ACCOUNT_ID:parameter/PARAM_NAME
</code></pre></div><p>Where:</p> <ul><li>ACCOUNT_ID: is the numeric account ID of your AWS account</li> <li>REGION: is the current region code for example us-east-1</li> <li>PARAM_NAME is the name of the parameter as you just typed it in the step above</li></ul> <p>in yoour case lets assume our account ID is 1122334455 and our region is eu-west-1. In this case the ARN value will be:</p> <div class="language- extra-class"><pre class="language-text"><code>arn:aws:ssm:us-east-2:1122334455:parameter/my_shiny_secret
</code></pre></div><p>Keep this value at hand and then head over to <a href="https://app.digger.dev" target="_blank" rel="noopener noreferrer">app.digger.dev<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>. Navigate to your project and then select the environment you wish to add variable to. Go to the variables section, it should look like this:</p> <p><img src="/assets/img/secret_settings.f972dbc9.png" alt="Parameter Store"></p> <p>Once you add an entry you just need to trigger a release (using <code>dg env release</code> command) and your app can now access the secret under the <code>SHINY</code> environment variable!</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/overview/digger-vs-other.html" class="prev">
        Digger vs Other
      </a></span> <span class="next"><a href="/cli/installation.html">
        Install Digger CLI
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.0ff171b0.js" defer></script><script src="/assets/js/2.11174f41.js" defer></script><script src="/assets/js/3.60901e5f.js" defer></script>
  </body>
</html>
